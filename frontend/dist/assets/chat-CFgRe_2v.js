import"./modulepreload-polyfill-B5Qt9EMX.js";import{l,e as m}from"./alerts-uhKEASvR.js";import"https://cdn.socket.io/4.4.1/socket.io.esm.min.js";localStorage.getItem("userName");function a(e,o){const t=document.querySelector(".chat"),n=document.createElement("div");n.classList.add("msg"),n.textContent=`${e}: ${o}`,t.appendChild(n),t.scrollTop=t.scrollHeight}function r(){document.getElementById("logout").addEventListener("click",()=>{l()})}function i(e,o){const t=document.querySelector(".chat"),n=document.createElement("div");n.classList.add("msg"),n.textContent=`${e} ${o}`,t.appendChild(n),t.scrollTop=t.scrollHeight}const d=document.getElementById("chat-form"),c=io("https://weconnect-4on0.onrender.com"),s=localStorage.getItem("userName");c.on("receive-message",(e,o)=>{a(e,o)});c.on("online-users",e=>{i(e,"is connected")});if(!s)window.location.href="../../index.html";else{const e=document.getElementById("user-name");e&&(e.textContent=s,c.emit("online",s))}r();d.addEventListener("submit",e=>{e.preventDefault();const o=document.getElementById("message-input"),t=o.value;if(t===""){m("Message input is empty");return}c.emit("send-message",s,t),o.value=""});

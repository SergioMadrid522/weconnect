import"./modulepreload-polyfill-B5Qt9EMX.js";import{e as u,s as p}from"./alerts-uhKEASvR.js";import"./footerRender-C91XSVvk.js";import"https://cdn.socket.io/4.4.1/socket.io.esm.min.js";const c=document.getElementById("form");c.addEventListener("submit",async r=>{r.preventDefault();const e=document.getElementById("username-input"),t=document.getElementById("email-input"),s=document.getElementById("password-input"),d=e.value.trim(),i=t.value.trim(),a=s.value.trim();if(!d||!i||!a){u("Por favor llena todos los campos."),d||(e.style.border="1px solid red"),i||(t.style.border="1px solid red"),a||(s.style.border="1px solid red");return}try{const o=await fetch("https://weconnect-4on0.onrender.com/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:d,email:i,password:a})}),l=await o.json();if(!o.ok){let n=l.errors;Array.isArray(n)&&(n=n.join(", ")),u(n||"Unknown Error"),e.style.border="1px solid red",t.style.border="1px solid red",s.style.border="1px solid red";return}const m=l.user.name;localStorage.setItem("userName",m),p("sign up",m,"../chat/chat.html")}catch(o){console.error("error: ",o)}});y();function y(){const r=document.getElementById("username-input"),e=document.getElementById("email-input"),t=document.getElementById("password-input");r.addEventListener("input",()=>{r.style.border="1px solid gainsboro"}),e.addEventListener("input",()=>{e.style.border="1px solid gainsboro"}),t.addEventListener("input",()=>{t.style.border="1px solid gainsboro"})}
